{"version":3,"sources":["components/DropDown.js","lib/countries.js","lib/years.js","lib/airports.js","lib/routes.js","actions/routeActions.js","actions/actionTypes.js","components/TablePage.js","actions/queryActions.js","components/MainPage.js","components/Datamap.js","components/MapPage.js","components/Menu.js","actions/appActions.js","App.js","serviceWorker.js","reducers/query.js","reducers/app.js","reducers/routes.js","reducers/index.js","store/store.js","index.js"],"names":["DropDown","_ref","id","label","onUpdate","list","value","react_default","a","createElement","Fragment","htmlFor","onChange","e","target","map","item","key","countryList","code","name","yearsList","toString","getColors","limit","colorRanges","airportsData","length","scaleLinear","domain","interpolate","d3","range","reduce","acc","index","ident","getAirportById","filter","parseRoutes","routes","year","data","values","v","parseInt","scaleSqrt","Math","min","apply","Object","toConsumableArray","max","createRange","departureAirport","departure","airport","arrivalAirport","arrival","origin","latitude","longitude","destination","options","strokeWidth","strokeColor","greatArc","d","fetchPosts","dispatch","type","payload","requestPosts","fetch","country","measure","concat","process","toLowerCase","getFileUrl","then","response","json","routesdData","getRoutes","connect","state","query","onChangeCountry","onChangeYear","onChangeMeasure","onLoadRoutesIfNeeded","getState","props","components_DropDown","measures","onClick","MainPage","MAP_CLEARING_PROPS","Datamap","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","resizeMap","bind","assertThisInitialized","responsive","window","addEventListener","drawMap","newProps","oldProps","some","propChangeRequiresMapClear","clear","removeEventListener","container","Array","from","childNodes","forEach","child","removeChild","_this$props","arc","arcOptions","bubbles","bubbleOptions","graticule","labels","updateChoroplethOptions","objectWithoutProperties","updateChoropleth","Datamaps","objectSpread","element","resize","_this2","style","propStyle","height","position","width","ref","c","React","Component","defaultProps","getAirports","radius","fillKey","borderWidth","borderOpacity","fillOpacity","getMapColors","defaultFill","Datamap_Datamap","geographyConfig","highlightOnHover","popupOnHover","fills","getNavClass","getIconClass","open","app","onToggleNav","onCloseNav","className","Link","to","onKeyDown","role","tabIndex","App","BrowserRouter","components_Menu","Route","path","exact","component","MapPage","TablePage","Boolean","location","hostname","match","initialState","arguments","undefined","action","loading","fetched","combineReducers","createStore","rootReducer","applyMiddleware","thunkMiddleware","logger","ReactDOM","render","es","store","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.68a94856.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst DropDown = ({ id, label, onUpdate, list, value }) => (\n  <React.Fragment>\n    <label htmlFor={id}>{label}</label>\n    <select\n      id={id}\n      value={value}\n      onChange={(e) => {\n        onUpdate(e.target.value);\n      }}\n    >\n      {list.map((item) => {\n        return (\n          <option key={item.id} value={item.value}>\n            {item.label}\n          </option>\n        );\n      })}\n    </select>\n  </React.Fragment>\n);\n\nDropDown.propTypes = {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  list: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      value: PropTypes.string.isRequired,\n      label: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired,\n  value: PropTypes.string.isRequired\n};\n\nexport default DropDown;\n","import countries from '../data/countries/filtred-countries.json';\n\nconst countryList = countries.map((value) => {\n  return {\n    id: value.code,\n    label: value.name,\n    value: value.code\n  };\n});\n\nexport default countryList;\n","import years from '../config/years.json';\n\nconst yearsList = years.map((value) => {\n  return {\n    id: value.toString(),\n    label: value.toString(),\n    value: value.toString()\n  };\n});\n\nexport default yearsList;\n","import * as d3 from 'd3';\nimport { scaleLinear } from 'd3-scale';\nimport airportsData from '../data/airports/filtred-airports.json';\n\nconst createColorRange = (limit) => {\n  return scaleLinear()\n    .domain([1, limit])\n    .interpolate(d3.interpolateHcl)\n    .range([d3.rgb('#007AFF'), d3.rgb('#FFF500')]);\n};\n\nconst getColors = () => {\n  const colorRanges = createColorRange(airportsData.length);\n\n  return airportsData.reduce((acc, value, index) => {\n    acc[value.ident] = colorRanges(index);\n    return acc;\n  }, {});\n};\n\nconst createAirports = () => {\n  return airportsData.map(({ name, ident, latitude, longitude }) => {\n    return {\n      name,\n      radius: 3,\n      latitude,\n      longitude,\n      fillKey: ident,\n      borderWidth: 0,\n      borderOpacity: 0,\n      fillOpacity: 1\n    };\n  });\n};\n\nconst getAirportById = (id) =>\n  airportsData.filter((value) => value.ident === id);\n\nexport { createAirports, getColors, getAirportById };\n","import { scaleSqrt } from 'd3-scale';\nimport { getAirportById } from './airports';\n\nconst getFileUrl = ({ country, measure }) => {\n  return `${\n    process.env.PUBLIC_URL\n  }/data/processed/avia_par_${country.toLowerCase()}_${measure}.json`;\n};\n\nconst createRange = (data, key) => {\n  const values = data.map((v) => parseInt(v[key], 10)).filter((v) => v);\n\n  return scaleSqrt()\n    .domain([Math.min(...values), Math.max(...values)])\n    .range([2, 30]);\n};\n\nconst getRoutes = (data) => {\n  return fetch(getFileUrl(data))\n    .then((response) => response.json())\n    .then((routesdData) => {\n      return routesdData;\n    });\n};\n\nconst parseRoutes = (routes, year) => {\n  const range = createRange(routes, year);\n\n  const values = routes\n    .map((value) => {\n      const departureAirport = getAirportById(value.departure.airport);\n      const arrivalAirport = getAirportById(value.arrival.airport);\n      if (\n        departureAirport.length &&\n        arrivalAirport.length &&\n        value[parseInt(year, 10)]\n      ) {\n        return {\n          origin: {\n            latitude: departureAirport[0].latitude,\n            longitude: departureAirport[0].longitude\n          },\n          destination: {\n            latitude: arrivalAirport[0].latitude,\n            longitude: arrivalAirport[0].longitude\n          },\n          options: {\n            strokeWidth: range(parseInt(value[year], 10)),\n            strokeColor: 'rgba(100, 10, 200, 0.4)',\n            greatArc: true\n          }\n        };\n      }\n      return false;\n    })\n    .filter((d) => d);\n  return values;\n};\n\nexport { parseRoutes, getRoutes };\n","import { getRoutes } from '../lib/routes.js';\nimport {\n  REQUEST_ROUTES,\n  RECEIVE_ROUTES,\n  INVALIDATE_ROUTES\n} from './actionTypes';\n\nexport const requestPosts = (data) => ({\n  type: REQUEST_ROUTES,\n  payload: {\n    data\n  }\n});\n\nexport const receiveRoutes = (data) => ({\n  type: RECEIVE_ROUTES,\n  payload: {\n    data\n  }\n});\n\nexport const invalidateRoutes = () => ({\n  type: INVALIDATE_ROUTES\n});\n\nconst fetchPosts = (data) => (dispatch) => {\n  dispatch(requestPosts(data));\n  return getRoutes(data).then((routes) => dispatch(receiveRoutes(routes)));\n};\n\nexport const fetchRoutesIfNeeded = () => (dispatch, getState) =>\n  dispatch(fetchPosts(getState().query));\n","export const SET_MEASURE = 'SET_MEASURE';\nexport const SET_YEAR = 'SET_YEAR';\nexport const SET_COUNTRY = 'SET_COUNTRY';\n\nexport const REQUEST_ROUTES = 'REQUEST_ROUTES';\nexport const INVALIDATE_ROUTES = 'INVALIDATE_ROUTES';\nexport const RECEIVE_ROUTES = 'RECEIVE_ROUTES';\n\nexport const TOGGLE_NAV = 'TOGGLE_NAV';\nexport const CLOSE_NAV = 'CLOSE_NAV';\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport DropDown from './DropDown';\nimport countryList from '../lib/countries';\nimport yearsList from '../lib/years';\nimport measures from '../config/measures.json';\nimport { setMeasure, setYear, setCountry } from '../actions/queryActions';\nimport { fetchRoutesIfNeeded } from '../actions/routeActions';\n\nfunction TablePage(props) {\n  const {\n    onChangeCountry,\n    onChangeYear,\n    onChangeMeasure,\n    country,\n    year,\n    measure,\n    onLoadRoutesIfNeeded\n  } = props;\n  return (\n    <div>\n      <DropDown\n        id=\"countries\"\n        value={country}\n        label=\"select country\"\n        list={countryList}\n        onUpdate={onChangeCountry}\n      />\n      <DropDown\n        id=\"years\"\n        value={year}\n        label=\"select year\"\n        list={yearsList}\n        onUpdate={onChangeYear}\n      />\n      <DropDown\n        id=\"measures\"\n        value={measure}\n        label=\"select measure\"\n        list={measures}\n        onUpdate={onChangeMeasure}\n      />\n      <button type=\"button\" onClick={onLoadRoutesIfNeeded}>\n        Load Routes\n      </button>\n      <button type=\"button\" onClick={onLoadRoutesIfNeeded}>\n        Load Airports\n      </button>\n    </div>\n  );\n}\nconst mapStateToProps = (state) => {\n  return {\n    year: state.query.year,\n    measure: state.query.measure,\n    country: state.query.country\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    onChangeCountry: setCountry,\n    onChangeYear: setYear,\n    onChangeMeasure: setMeasure,\n    onLoadRoutesIfNeeded: fetchRoutesIfNeeded\n  }\n)(TablePage);\n\nTablePage.propTypes = {\n  onChangeCountry: PropTypes.func.isRequired,\n  onChangeYear: PropTypes.func.isRequired,\n  onChangeMeasure: PropTypes.func.isRequired,\n  onLoadRoutesIfNeeded: PropTypes.func.isRequired,\n  country: PropTypes.string.isRequired,\n  year: PropTypes.string.isRequired,\n  measure: PropTypes.string.isRequired\n};\n","import { SET_MEASURE, SET_YEAR, SET_COUNTRY } from './actionTypes';\n\nexport const setMeasure = (measure) => ({\n  type: SET_MEASURE,\n  payload: {\n    measure\n  }\n});\n\nexport const setYear = (year) => ({\n  type: SET_YEAR,\n  payload: { year }\n});\n\nexport const setCountry = (country) => ({\n  type: SET_COUNTRY,\n  payload: { country }\n});\n","import React from 'react';\n\nfunction MainPage() {\n  return <h2>Home</h2>;\n}\n\nexport default MainPage;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Datamaps from 'datamaps';\n\nconst MAP_CLEARING_PROPS = ['height', 'scope', 'setProjection', 'width'];\n\nconst propChangeRequiresMapClear = (oldProps, newProps) => {\n  return MAP_CLEARING_PROPS.some((key) => oldProps[key] !== newProps[key]);\n};\n\nexport default class Datamap extends React.Component {\n  static propTypes = {\n    arc: PropTypes.array,\n    arcOptions: PropTypes.object,\n    bubbleOptions: PropTypes.object,\n    bubbles: PropTypes.array,\n    data: PropTypes.object,\n    graticule: PropTypes.bool,\n    height: PropTypes.any,\n    labels: PropTypes.bool,\n    responsive: PropTypes.bool,\n    style: PropTypes.object,\n    updateChoroplethOptions: PropTypes.object,\n    width: PropTypes.any\n  };\n\n  static defaultProps = {\n    arcOptions: {},\n    data: {},\n    updateChoroplethOptions: {},\n    bubbleOptions: {},\n    style: {},\n    arc: [],\n    bubbles: [],\n    height: '',\n    width: '',\n    labels: false,\n    responsive: false,\n    graticule: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.resizeMap = this.resizeMap.bind(this);\n  }\n\n  componentDidMount() {\n    const { responsive } = this.props;\n    if (responsive) {\n      window.addEventListener('resize', this.resizeMap);\n    }\n    this.drawMap();\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (propChangeRequiresMapClear(this.props, newProps)) {\n      this.clear();\n    }\n  }\n\n  componentDidUpdate() {\n    this.drawMap();\n  }\n\n  componentWillUnmount() {\n    const { responsive } = this.props;\n    this.clear();\n    if (responsive) {\n      window.removeEventListener('resize', this.resizeMap);\n    }\n  }\n\n  clear() {\n    const { container } = this;\n\n    Array.from(container.childNodes).forEach((child) => {\n      container.removeChild(child);\n    });\n\n    delete this.map;\n  }\n\n  drawMap() {\n    const {\n      arc,\n      arcOptions,\n      bubbles,\n      bubbleOptions,\n      data,\n      graticule,\n      labels,\n      updateChoroplethOptions,\n      ...props\n    } = this.props;\n\n    let { map } = this;\n\n    if (!map) {\n      map = new Datamaps({\n        ...props,\n        data,\n        element: this.container\n      });\n      this.map = map;\n    } else {\n      map.updateChoropleth(data, updateChoroplethOptions);\n    }\n\n    if (arc) {\n      map.arc(arc, arcOptions);\n    }\n\n    if (bubbles) {\n      map.bubbles(bubbles, bubbleOptions);\n    }\n\n    if (graticule) {\n      map.graticule();\n    }\n\n    if (labels) {\n      map.labels();\n    }\n  }\n\n  resizeMap() {\n    this.map.resize();\n  }\n\n  render() {\n    const { style } = this.props;\n    const propStyle = {\n      height: '100%',\n      position: 'relative',\n      width: '100%',\n      ...style\n    };\n\n    return (\n      <div\n        ref={(c) => {\n          this.container = c;\n        }}\n        style={propStyle}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { parseRoutes } from '../lib/routes';\nimport { getColors, createAirports } from '../lib/airports';\nimport Datamap from './Datamap';\n\nconst getRoutes = (routes, year) => parseRoutes(routes, parseInt(year, 10));\n\nconst getAirports = () => {\n  return createAirports();\n};\n\nconst getMapColors = () => {\n  return {\n    defaultFill: '#ABDDA4',\n    // ...colors\n    ...getColors()\n  };\n};\n\nfunction MapPage({ routes, year }) {\n  return (\n    <Datamap\n      responsive\n      geographyConfig={{\n        highlightOnHover: false,\n        popupOnHover: false\n      }}\n      fills={getMapColors()}\n      arc={getRoutes(routes, year)}\n      bubbles={getAirports()}\n    />\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    routes: state.routes.routes,\n    year: state.query.year\n  };\n};\n\nexport default connect(mapStateToProps)(MapPage);\n\nMapPage.propTypes = {\n  routes: PropTypes.arrayOf(\n    PropTypes.shape({\n      arrival: PropTypes.shape({\n        airport: PropTypes.string.isRequired,\n        country: PropTypes.string.isRequired\n      }),\n      departure: PropTypes.shape({\n        airport: PropTypes.string.isRequired,\n        country: PropTypes.string.isRequired\n      }),\n      tra_meas: PropTypes.string.isRequired,\n      unit: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired,\n  year: PropTypes.string.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { toggleNav, closeNav } from '../actions/appActions';\n\nimport './Menu.css';\n\nconst getNavClass = (state) => {\n  return state ? 'sidenav open' : 'sidenav';\n};\n\nconst getIconClass = (state) => {\n  return state ? 'mySidenav-icon change' : 'mySidenav-icon';\n};\n\nfunction Menu(props) {\n  const { open, onToggleNav, onCloseNav } = props;\n  return (\n    <div>\n      <div id=\"mySidenav\" className={getNavClass(open)}>\n        <Link onClick={onCloseNav} to=\"/\">\n          Home\n        </Link>\n        <Link onClick={onCloseNav} to=\"/map/\">\n          Map\n        </Link>\n        <Link onClick={onCloseNav} to=\"/data/\">\n          Data\n        </Link>\n      </div>\n      <div\n        className={getIconClass(open)}\n        onClick={onToggleNav}\n        onKeyDown={onToggleNav}\n        role=\"button\"\n        tabIndex=\"0\"\n      >\n        <div className=\"bar1\" />\n        <div className=\"bar2\" />\n        <div className=\"bar3\" />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    open: state.app.open\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    onToggleNav: toggleNav,\n    onCloseNav: closeNav\n  }\n)(Menu);\n\nMenu.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onToggleNav: PropTypes.func.isRequired,\n  onCloseNav: PropTypes.func.isRequired\n};\n","import { TOGGLE_NAV, CLOSE_NAV } from './actionTypes';\n\nexport const toggleNav = () => ({\n  type: TOGGLE_NAV\n});\n\nexport const closeNav = () => ({\n  type: CLOSE_NAV\n});\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport TablePage from './components/TablePage.js';\nimport MainPage from './components/MainPage.js';\nimport MapPage from './components/MapPage.js';\nimport Menu from './components/Menu.js';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router>\n      <React.Fragment>\n        <Menu />\n        <Route path=\"/\" exact component={MainPage} />\n        <Route path=\"/map/\" component={MapPage} />\n        <Route path=\"/data/\" component={TablePage} />\n      </React.Fragment>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SET_MEASURE, SET_YEAR, SET_COUNTRY } from '../actions/actionTypes';\n\nconst initialState = {\n  measure: 'PAS_BRD',\n  year: '2000',\n  country: 'PT'\n};\n\nconst query = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_MEASURE: {\n      return {\n        ...state,\n        measure: action.payload.measure\n      };\n    }\n    case SET_YEAR: {\n      return {\n        ...state,\n        year: action.payload.year\n      };\n    }\n    case SET_COUNTRY: {\n      return {\n        ...state,\n        country: action.payload.country\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default query;\n","import { TOGGLE_NAV, CLOSE_NAV } from '../actions/actionTypes';\n\nconst initialState = {\n  open: false\n};\n\nconst app = (state = initialState, action) => {\n  switch (action.type) {\n    case TOGGLE_NAV: {\n      return {\n        ...state,\n        open: !state.open\n      };\n    }\n    case CLOSE_NAV: {\n      return {\n        ...state,\n        open: false\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default app;\n","import {\n  REQUEST_ROUTES,\n  RECEIVE_ROUTES,\n  INVALIDATE_ROUTES\n} from '../actions/actionTypes';\n\nconst initialState = {\n  routes: [],\n  loading: false,\n  fetched: false\n};\n\nconst routes = (state = initialState, action) => {\n  switch (action.type) {\n    case REQUEST_ROUTES: {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n    case RECEIVE_ROUTES: {\n      return {\n        ...state,\n        routes: action.payload.data,\n        fetched: true\n      };\n    }\n    case INVALIDATE_ROUTES: {\n      return {\n        ...state,\n        routes: [],\n        fetched: false\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default routes;\n","import { combineReducers } from 'redux';\nimport query from './query';\nimport app from './app';\nimport routes from './routes';\n\nexport default combineReducers({ query, app, routes });\n","import { applyMiddleware, createStore } from 'redux';\nimport logger from 'redux-logger';\nimport thunkMiddleware from 'redux-thunk';\nimport rootReducer from '../reducers/index';\n\nexport default createStore(\n  rootReducer,\n  applyMiddleware(thunkMiddleware, logger)\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}